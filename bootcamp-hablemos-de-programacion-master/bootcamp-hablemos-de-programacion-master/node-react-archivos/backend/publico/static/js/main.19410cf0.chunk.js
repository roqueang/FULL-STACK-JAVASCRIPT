(this["webpackJsonpreact-2"]=this["webpackJsonpreact-2"]||[]).push([[0],{32:function(e,a,t){e.exports=t(59)},37:function(e,a,t){},38:function(e,a,t){},43:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(23),c=t.n(o),i=t(10),l=(t(37),t(2));t(38);var s=function(){return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg"},r.a.createElement(i.b,{className:"navbar-brand",to:"/"},"Veterinaria"),r.a.createElement("div",{className:"navbar-right",id:"navbarColor03"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(i.b,{className:"nav-link",to:"/"},"Mascotas",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/veterinarias"},"Veterinari@s")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/consultas"},"Consultas")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/duenos"},"Due\xf1os")))))},u=(t(43),t(30)),d=t(12),m=t(3),v=t.n(m),p=t(8),b=t(9),f=t(25),h=t(26),E=t(31),j=t(29);t(45),t(46),t(47);var O=function(e){var a=e.options,t=void 0===a?[]:a,n=e.nombreCampo,o=void 0===n?"vacio":n,c=e.onChange,i=void 0===c?function(){}:c,l=e.placeholder,s=e.value,u=void 0===s?"":s;return r.a.createElement("select",{id:o,className:"form-control",onChange:i,name:o,defaultValue:u},r.a.createElement("option",{value:""},"Seleccione ",l),t.map((function(e,a){var t=e.valor,n=e.etiqueta;return r.a.createElement("option",{key:"".concat(o,"-").concat(a,"-").concat(t,"-").concat(n),value:t},n)})))};var g=function(e){var a=e.manejarSearchInput,t=void 0===a?function(){}:a,n=e.buscar,o=void 0===n?function(){}:n,c=e.entidad,i=void 0===c?null:c,l=e.options,s=void 0===l?{}:l;return r.a.createElement("form",{className:"form-inline"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",name:"search",placeholder:"Search","aria-label":"Search",onInput:t}),"consultas"===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{nombreCampo:"mascota",options:s.mascota?s.mascota:[],placeholder:"b\xfasqueda por mascota",onChange:t}),r.a.createElement(O,{nombreCampo:"veterinaria",options:s.veterinaria?s.veterinaria:[],placeholder:"b\xfasqueda por veterinaria",onChange:t})),r.a.createElement("button",{className:"btn btn-outline-primary",type:"submit",onClick:o},"Search"))};var k=function(e){var a=e.cambiarModal,t=void 0===a?function(){}:a,n=e.titulo,o=e.manejarSearchInput,c=void 0===o?function(){}:o,i=e.buscar,l=void 0===i?function(){}:i,s=e.entidad,u=void 0===s?null:s,d=e.options,m=void 0===d?[]:d;return r.a.createElement("div",{className:"actions-menu"},r.a.createElement("h1",null,n),r.a.createElement("div",{className:"actions-menu-content"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModalCenter",onClick:t},"Nueva"),r.a.createElement(g,{manejarSearchInput:c,buscar:l,entidad:u,options:m})))};t(48);var N=function(e){return 0!==e.columnas.length&&r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Identificador"),e.columnas.map((function(e,a){return r.a.createElement("th",{key:"titulo-".concat(a),scope:"col"},e)})),r.a.createElement("th",{scope:"col"})))},x=t(27),y=t.n(x),C=t(18),w=t(20);t(52);var M=function(e){var a=e.tipo,t=e.onClick,n=void 0===t?function(){}:t,o=e.index,c=void 0===o?"":o;return r.a.createElement("button",{type:"button",className:y()("btn",{"btn-info":"editar"===a,"btn-danger":"eliminar"===a}),onClick:function(e){return n(e,c)}},"editar"===a&&r.a.createElement(C.a,{icon:w.a}),"eliminar"===a&&r.a.createElement(C.a,{icon:w.b}))};t(53);var S=function(e){var a=e.index,t=e.entidad,n=e.editarEntidad,o=void 0===n?function(){}:n,c=e.eliminarEntidad,i=void 0===c?function(){}:c,l=e.columnas,s=void 0===l?[]:l;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a),s.map((function(e,a){return r.a.createElement("td",{key:"col-".concat(e,"-").concat(a)},function(e){var a=e.entidad,t=e.columna;return"veterinaria"===t||"dueno"===t?"".concat(a[t].nombre," ").concat(a[t].apellido):"mascota"===t?"".concat(a[t].nombre," (").concat(a[t].tipo,")"):a[t]}({entidad:t,columna:e}))})),r.a.createElement("td",null,r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement(M,{tipo:"editar",onClick:o,index:a}),r.a.createElement(M,{tipo:"eliminar",onClick:function(e){return i(e,a)}}))))};t(54);var I=function(e){var a=e.entidades,t=void 0===a?[]:a,n=e.editarEntidad,o=void 0===n?function(){}:n,c=e.eliminarEntidad,i=void 0===c?function(){}:c,l=e.columnas,s=void 0===l?[]:l;return r.a.createElement("table",{className:"table table-stripped table-hover"},r.a.createElement(N,{columnas:s}),r.a.createElement("tbody",{id:"lista-mascotas"},t.map((function(e,a){return r.a.createElement(S,{key:"fila-".concat(a),index:!!e.id&&e.id,entidad:e,editarEntidad:o,eliminarEntidad:i,columnas:s})}))))};t(55);var P=function(e){var a=e.cambiarModal,t=void 0===a?function(){}:a;return r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalCenterTitle"},"Nueva Mascota"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:t},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))};t(56);var q=function(e){var a=e.cambiarModal,t=void 0===a?function(){}:a,n=e.crearEntidad,o=void 0===n?function(){}:n;return r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{onClick:t,type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cerrar"),r.a.createElement("button",{onClick:o,type:"button",className:"btn btn-primary","data-dismiss":"modal",id:"btn-guardar"},"Crear"))};t(57);var T=function(e){var a=e.cambiarModal,t=void 0===a?function(){}:a,n=e.crearEntidad,o=void 0===n?function(){}:n,c=e.children,i=void 0===c?[]:c;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement(P,{cambiarModal:t}),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{id:"form"},r.a.createElement("div",{className:"form-row"},i))),r.a.createElement(q,{cambiarModal:t,crearEntidad:o})))),r.a.createElement("div",{className:"modal-backdrop fade show"}))},V=t(28),B=function(){var e=Object(p.a)(v.a.mark((function e(a){var t,n,r,o,c,i,l,s,u,d,m,p,b,f,h,E,j;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.entidad,n=void 0===t?"mascotas":t,r=a.search,o=void 0===r?"":r,c=a.columnas,i=void 0===c?[]:c,l=a.veterinaria,s=void 0===l?"":l,u=a.mascota,d=void 0===u?"":u,e.prev=1,m="".concat("","/").concat(n),!(o.length>0&&i.length>0||d||s)){e.next=28;break}p="?",b=Object(V.a)(i),e.prev=6,b.s();case 8:if((f=b.n()).done){e.next=19;break}if(h=f.value,"consultas"!==n||"veterinaria"!==h){e.next=13;break}return s.length>0&&(p+="veterinaria=".concat(s,"&")),e.abrupt("continue",17);case 13:if("consultas"!==n||"mascota"!==h){e.next=16;break}return d.length>0&&(p+="mascota=".concat(d,"&")),e.abrupt("continue",17);case 16:p+="".concat(h,"=").concat(o,"&");case 17:e.next=8;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(6),b.e(e.t0);case 24:return e.prev=24,b.f(),e.finish(24);case 27:m+=p;case 28:return e.next=30,fetch(m);case 30:return E=e.sent,e.next=33,E.json();case 33:return j=e.sent,e.abrupt("return",j);case 37:e.prev=37,e.t1=e.catch(1),console.log({error:e.t1});case 40:case"end":return e.stop()}}),e,null,[[1,37],[6,21,24,27]])})));return function(a){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(v.a.mark((function e(a){var t,n,r,o,c,i,l,s,u,d,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.entidad,n=void 0===t?"mascotas":t,r=a.objeto,o=void 0===r?{}:r,c=a.method,i=void 0===c?"POST":c,l=a.idObjeto,s=void 0===l?null:l,e.prev=1,u=null,"PUT"!==i||!s&&0!==s?"POST"===i&&(u="".concat("","/").concat(n)):u="".concat("","/").concat(n,"/").concat(s),u){e.next=6;break}throw new Error("No cumple criterios de envio");case 6:return e.next=8,fetch(u,{method:i,headers:{"Content-Type":"application/json"},body:JSON.stringify(o),mode:"cors"});case 8:return d=e.sent,e.next=11,d.json();case 11:return m=e.sent,e.abrupt("return",m);case 15:e.prev=15,e.t0=e.catch(1),console.log({error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(v.a.mark((function e(a){var t,n,r,o,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.entidad,n=void 0===t?"mascotas":t,r=a.idObjeto,o=void 0===r?null:r,e.prev=1,!o&&0!==o){e.next=10;break}return e.next=5,fetch("".concat("","/").concat(n,"/").concat(o),{method:"DELETE"});case 5:return c=e.sent,e.next=8,c.json();case 8:return i=e.sent,e.abrupt("return",i);case 10:throw new Error("idObjeto no puede estar vac\xedo");case 13:e.prev=13,e.t0=e.catch(1),console.log({error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(v.a.mark((function e(a){var t,n,r,o,c,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.entidad,n=void 0===t?"mascotas":t,r=a.idObjeto,o=void 0===r?null:r,e.prev=1,e.next=4,fetch("".concat("","/").concat(n,"/").concat(o));case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(1),console.log({error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}();t(58);var A=function(e){var a=e.tipo,t=void 0===a?"text":a,n=e.nombreCampo,o=e.onInput,c=void 0===o?function(){}:o,i=e.placeholder,l=e.value,s=void 0===l?"":l;return r.a.createElement("input",{type:t,name:n,className:"form-control",placeholder:i,onInput:c,defaultValue:s})};var G=function(e){var a=e.manejarInput,t=void 0===a?function(){}:a,n=e.objeto,o=void 0===n?{}:n,c=e.nombreCampo,i=void 0===c?"":c,l=e.options,s=void 0===l?{}:l;switch(i){case"tipo":case"mascota":case"veterinaria":case"diagnostico":case"dueno":return r.a.createElement("div",{className:"col"},s[i].length>0?r.a.createElement(O,{nombreCampo:i,options:s[i],onChange:t,placeholder:i,defaultValue:o[i],selectedValue:o[i],value:o[i]}):"cargando opciones...");case"nombre":case"apellido":case"documento":case"historia":return r.a.createElement("div",{className:"col"},r.a.createElement(A,{nombreCampo:i,tipo:"text",onInput:t,placeholder:i,value:o[i]}));default:return!1}},U={tipo:[{valor:"Perro",etiqueta:"Perro"},{valor:"Gato",etiqueta:"Gato"},{valor:"P\xe1jaro",etiqueta:"P\xe1jaro"},{valor:"Otro",etiqueta:"Otro"}],diagnostico:[{valor:"Prurito de piel (sarna)",etiqueta:"Prurito de piel (sarna)"},{valor:"Moquillo",etiqueta:"Moquillo"},{valor:"Trauma cef\xe1lico",etiqueta:"Trauma cef\xe1lico"},{valor:"Parvovirosis",etiqueta:"Parvovirosis"}],mascota:[],veterinaria:[],dueno:[]},L=function(e){Object(E.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(f.a)(this,t),(n=a.call(this,e)).cambiarModal=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(b.a)(Object(b.a)({},t),{},{mostraModal:!n.state.mostraModal,method:a});"POST"===a&&(r=Object(b.a)(Object(b.a)({},r),{},{idObjeto:null,objeto:{}})),n.obtenerOpcionesBackend(r)},n.listar=Object(p.a)(v.a.mark((function e(){var a,t,r,o,c,i,l,s,u,d=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=d.length>0&&void 0!==d[0]?d[0]:null)&&a.preventDefault(),t=n.props.entidad,r=n.state,o=r.search,c=r.columnas,i=r.veterinaria,l=r.mascota,e.next=6,B({entidad:t,search:o,columnas:c,veterinaria:i,mascota:l});case 6:s=e.sent,u=[],Array.isArray(s)&&s.length>0&&(u=Object.keys(s[0]).filter((function(e){return"id"!==e}))||[]),n.setState({entidades:s,columnas:u});case 10:case"end":return e.stop()}}),e)}))),n.manejarInput=function(e){var a=e.target,t=a.value,r=a.name,o=n.state.objeto;o=Object(b.a)(Object(b.a)({},o),{},Object(d.a)({},r,t)),n.setState({objeto:o})},n.crearEntidad=Object(p.a)(v.a.mark((function e(){var a,t,r,o,c,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>0&&void 0!==i[0]?i[0]:null,a=n.props.entidad,t=n.state,r=t.objeto,o=t.method,c=t.idObjeto,e.next=5,D({entidad:a,objeto:r,method:o,idObjeto:c});case 5:n.cambiarModal();case 6:case"end":return e.stop()}}),e)}))),n.obtenerOpcionesBackend=function(){var e=Object(p.a)(v.a.mark((function e(a){var t,r,o,c,i,l,s,d,m,p,f,h,E;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.options,r=B({entidad:"mascotas"}),o=B({entidad:"veterinarias"}),c=B({entidad:"duenos"}),e.next=6,Promise.all([r,o,c]);case 6:i=e.sent,l=Object(u.a)(i,3),s=l[0],d=void 0===s?[]:s,m=l[1],p=void 0===m?[]:m,f=l[2],h=void 0===f?[]:f,d=d.map((function(e,a){return{valor:e.id,etiqueta:"".concat(e.nombre," (").concat(e.tipo,")")}})),p=p.map((function(e,a){return{valor:e.id,etiqueta:"".concat(e.nombre," ").concat(e.apellido)}})),h=h.map((function(e,a){return{valor:e.id,etiqueta:"".concat(e.nombre," ").concat(e.apellido)}})),E=Object(b.a)(Object(b.a)({},t),{},{mascota:d,veterinaria:p,dueno:h}),n.setState(Object(b.a)(Object(b.a)({},a),{},{options:E}),(function(){n.listar()}));case 19:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.editarEntidad=function(){var e=Object(p.a)(v.a.mark((function e(a,t){var r,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.entidad,e.next=3,J({entidad:r,idObjeto:t});case 3:o=e.sent,c={objeto:o,idObjeto:t},n.cambiarModal(null,"PUT",c);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),n.eliminarEntidad=function(){var e=Object(p.a)(v.a.mark((function e(a,t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.entidad,e.next=3,F({entidad:r,idObjeto:t});case 3:e.sent,n.listar();case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),n.manejarSearchInput=function(e){var a=e.target,t=a.value,r=a.name;console.log({value:t,name:r}),n.setState(Object(d.a)({},r,t))},n.state={mostraModal:!1,entidades:[],objeto:{},idObjeto:null,method:"POST",columnas:[],options:U,search:"",veterinaria:"",mascota:""},n}return Object(h.a)(t,[{key:"componentDidMount",value:function(){"consultas"!==this.props.entidad?this.listar():this.obtenerOpcionesBackend({})}},{key:"render",value:function(){var e=this,a=this.props,t=a.titulo,n=void 0===t?"P\xe1gina sin t\xedtulo":t,o=a.entidad,c=this.state,i=c.columnas,l=c.idObjeto,s=c.entidades,u=c.objeto,d=c.options;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{cambiarModal:this.cambiarModal,titulo:n,manejarSearchInput:this.manejarSearchInput,buscar:this.listar,entidad:o,options:d}),r.a.createElement(I,{entidades:s,editarEntidad:this.editarEntidad,eliminarEntidad:this.eliminarEntidad,columnas:i}),this.state.mostraModal&&r.a.createElement(T,{cambiarModal:this.cambiarModal,manejarInput:this.manejarInput,crearEntidad:this.crearEntidad,entidad:o,idObjeto:l},i.map((function(a,t){return r.a.createElement(G,{key:t,manejarInput:e.manejarInput,objeto:u,nombreCampo:a,options:d})}))))}}]),t}(n.Component);var z=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(s,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:function(e){return r.a.createElement(L,Object.assign({},e,{titulo:"Mascotas",entidad:"mascotas"}))}}),r.a.createElement(l.a,{path:"/veterinarias",component:function(e){return r.a.createElement(L,Object.assign({},e,{titulo:"Veterinari@s",entidad:"veterinarias"}))}}),r.a.createElement(l.a,{path:"/duenos",component:function(e){return r.a.createElement(L,Object.assign({},e,{titulo:"Due\xf1@s",entidad:"duenos"}))}}),r.a.createElement(l.a,{path:"/consultas",component:function(e){return r.a.createElement(L,Object.assign({},e,{titulo:"Consultas",entidad:"consultas"}))}})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(z,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.19410cf0.chunk.js.map